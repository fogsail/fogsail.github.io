<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>算法竞赛入门：基础算法(一) | 算法小站</title><meta name="keywords" content="simulate"><meta name="author" content="fogsail,fogsail_chen@163.com"><meta name="copyright" content="fogsail"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题"><meta property="og:type" content="article"><meta property="og:title" content="算法竞赛入门：基础算法(一)"><meta property="og:url" content="https://www.fogsail.net/2018/08/23/20180823/index.html"><meta property="og:site_name" content="算法小站"><meta property="og:description" content="函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.fogsail.net/img/algo-03.png"><meta property="article:published_time" content="2018-08-23T12:18:00.000Z"><meta property="article:modified_time" content="2021-01-28T02:53:02.324Z"><meta property="article:author" content="fogsail"><meta property="article:tag" content="simulate"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.fogsail.net/img/algo-03.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.fogsail.net/2018/08/23/20180823/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//s4.cnzz.com"><link rel="preconnect" href="//zz.bdstatic.com"><meta name="google-site-verification" content="EMoSEE-nLoAdIHWBDmdYpa0t4XBCF8aLYOM3ayoI0pI"><meta name="msvalidate.01" content="A5D49B867EF1BB3C062DA0149A0A2E1E"><meta name="baidu-site-verification" content="code-CXWS4dziOB"><meta name="360-site-verification" content="445d65d249d766c9b185e94639306645"><link rel="manifest" href="/img/pwa/manifest.json"><meta name="msapplication-TileColor" content="#fff"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/16.png"><link rel="mask-icon" href="/img/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.5/dist/instantsearch.min.js" defer></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?eefa70020af0829b6b4b9a6151d8a943";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114571328-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-114571328-1")</script><script async data-pjax="data-pjax" src="https://s4.cnzz.com/z_stat.php?id=1279649349&amp;web_id=1279649349"></script><script>var GLOBAL_CONFIG={root:"/",algolia:{appId:"8QVTR8UQ0E",apiKey:"88abbbe5c86d52be951acbbc689ab2ab",indexName:"fogsail-blog",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:100,languages:{author:"作者: fogsail",link:"链接: ",source:"来源: 算法小站",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#121212",position:"bottom-left"},source:{jQuery:"https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js",justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js",css:"https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"}},isPhotoFigcaption:!1,islazyload:!1,isanchor:!1},saveToLocal={set:function(t,e,a){const i=864e5*a,s={value:e,expiry:(new Date).getTime()+i};localStorage.setItem(t,JSON.stringify(s))},get:function(t){const e=localStorage.getItem(t);if(!e)return;const a=JSON.parse(e);if(!((new Date).getTime()>a.expiry))return a.value;localStorage.removeItem(t)}};const getScript=t=>new Promise((e,a)=>{const i=document.createElement("script");i.src=t,i.async=!0,i.onerror=a,i.onload=i.onreadystatechange=function(){const t=this.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,e())},document.head.appendChild(i)})</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2021-01-28 10:53:02"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>!function(){window.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},window.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const e=saveToLocal.get("theme");"dark"===e?activateDarkMode():"light"===e&&activateLightMode();const t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"))}()</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}</style><meta name="generator" content="Hexo 5.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">125</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">78</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>所有文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i> <span>游戏</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i> <span>读书</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/algo-03.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">算法小站</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>所有文章</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>娱乐</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/games/"><i class="fa-fw fas fa-gamepad"></i> <span>游戏</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i> <span>读书</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友链</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">算法竞赛入门：基础算法(一)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2018-08-23T12:18:00.000Z" title="undefined 2018-08-23 20:18:00">2018-08-23</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/simulate/">simulate</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>函数的嵌套，加上递归处理，能够解决非常多生活背景下的模拟问题</p><a id="more"></a><h2 id="Ancient-Cipher"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-1339">Ancient Cipher</a></h2><p>核心算法图解：</p><p><img src="ancient-cipher.jpg" alt="ancient-cipher"></p><p>实现方法：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdlib&gt;</span></span><br><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"></span><br><span class="line">int cmp(const void *a,const void *b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">return</span> *(int *)a - *(int *)b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    char s1[200], s2[200];</span><br><span class="line">    <span class="keyword">while</span>((scanf(<span class="string">&quot;%s%s&quot;</span>,s1,s2)==2))</span><br><span class="line">    &#123;</span><br><span class="line">        int n = strlen(s1);</span><br><span class="line">        int cnt1[26]=&#123;0&#125;, cnt2[26]=&#123;0&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">            cnt1[ s1[i]-<span class="string">&#x27;A&#x27;</span> ]++;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">            cnt2[ s2[i]-<span class="string">&#x27;A&#x27;</span> ]++;</span><br><span class="line">        </span><br><span class="line">        qsort(cnt1,26,sizeof(int),cmp);</span><br><span class="line">        qsort(cnt2,26,sizeof(int),cmp);</span><br><span class="line"></span><br><span class="line">        int flag = 1;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0 ; i &lt; 26; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cnt1[i] != cnt2[i])</span><br><span class="line">                flag = 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="message-decoding"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-213">message-decoding</a></h2><p>算法图解：</p><p><img src="message-decoding.jpg" alt="message-decoding"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">int code[8][1&lt;&lt;<span class="string">8];</span></span><br><span class="line"><span class="string">//二进制编码</span></span><br><span class="line"><span class="string">//code[len][val]，len表示编码长度</span></span><br><span class="line"><span class="string">//val表示二进制编码所对应的十进制的值</span></span><br><span class="line"><span class="string">//code[len][val]表示这个编码所对应的字符‘</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//处理换行读入问题</span></span><br><span class="line"><span class="string">int readchar()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    for(;;)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        int ch = getchar();</span></span><br><span class="line"><span class="string">        if(ch != &#x27;\n&#x27; &amp;&amp; ch != &#x27;\r&#x27;)</span></span><br><span class="line"><span class="string">            return ch;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">//执行功能：一个一个字母读入</span></span><br><span class="line"><span class="string">//绕过&#x27;\n&#x27; &#x27;\r&#x27;执行输出</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//按位读入二进制数并且转换为十进制整数</span></span><br><span class="line"><span class="string">int getint(int bits)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    int val = 0;</span></span><br><span class="line"><span class="string">    while(bits--)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        // v = v * 2 means v &lt;&lt; 1</span></span><br><span class="line"><span class="string">        val = val * 2 + readchar() - &#x27;0&#x27;;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    return val;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int readcodes()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    memset(code,0,sizeof(code));</span></span><br><span class="line"><span class="string">    code[1][0] = readchar();</span></span><br><span class="line"><span class="string">    //用来储存编码头代表的译码</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    for(int len = 2; len &lt;= 7; len++)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        for(int v = 0; v &lt; (1&lt;&lt;len)-1; v++)</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            int ch = getchar();</span></span><br><span class="line"><span class="string">            if(ch == EOF)</span></span><br><span class="line"><span class="string">                return 0;</span></span><br><span class="line"><span class="string">            if(ch == &#x27;\n&#x27; || ch == &#x27;\r&#x27;)</span></span><br><span class="line"><span class="string">                return 1;</span></span><br><span class="line"><span class="string">            code[len][v] = ch;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    return 1;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">//对编码头信息的解码</span></span><br><span class="line"><span class="string">//表示编码内容读取的长度</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">void printcodes()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    for(int len = 1; len &lt;= 7; len++)</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        for(int v = 0; v &lt; (1&lt;&lt;len)-1; v++)</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            if(code[len][v] == 0)</span></span><br><span class="line"><span class="string">                return;</span></span><br><span class="line"><span class="string">            //printf(&quot;code[%d][%d] = %c\n&quot;,len,v,code[len][v]);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">int main()</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    while(readcodes())</span></span><br><span class="line"><span class="string">    //input codes，输入第一行的编码</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">        printcodes();</span></span><br><span class="line"><span class="string">        for(;;)</span></span><br><span class="line"><span class="string">        &#123;</span></span><br><span class="line"><span class="string">            int len = getint(3);</span></span><br><span class="line"><span class="string">            if(len == 0)</span></span><br><span class="line"><span class="string">                break;</span></span><br><span class="line"><span class="string">            // 000 quit</span></span><br><span class="line"><span class="string">            </span></span><br><span class="line"><span class="string">            //printf(&quot;len = %d\n&quot;,len);</span></span><br><span class="line"><span class="string">            for(;;)</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                int val = getint(len);</span></span><br><span class="line"><span class="string">                if(val == (1&lt;&lt;len)-1 )</span></span><br><span class="line"><span class="string">                    break;</span></span><br><span class="line"><span class="string">                putchar(code[len][val]);</span></span><br><span class="line"><span class="string">                //printf(&quot; &quot;);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        putchar(&#x27;\n&#x27;);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="spreadsheet-tracking-用2种方法，用flag简化计算"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-512">spreadsheet-tracking</a> 用2种方法，用flag简化计算</h2><h3 id="直接模拟">直接模拟</h3><p><img src="sheet-tracking.jpg" alt="sheet-tracking"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxd 100</span></span><br><span class="line"><span class="comment">#define BIG 10000</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int sh[maxd][maxd], sh_buf[maxd][maxd], ans[maxd][maxd];</span><br><span class="line">int row, col;</span><br><span class="line">int begr, begc;</span><br><span class="line">int change[maxd];</span><br><span class="line"></span><br><span class="line">// int oldr,oldc;</span><br><span class="line">// int newr,newc;</span><br><span class="line"></span><br><span class="line">void init()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= col; j++)</span><br><span class="line">            sh[i][j] = i*BIG+j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void movesh(char <span class="built_in">type</span>,int fresh,int old)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">&#x27;R&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= col; i++)</span><br><span class="line">            sh[fresh][i] = sh_buf[old][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">            sh[i][fresh] = sh_buf[i][old];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//算法处理一：用<span class="built_in">type</span>==<span class="string">&#x27;R&#x27;</span>，选择的方式，来把行变换和列变换统一起来</span><br><span class="line"></span><br><span class="line">void del(char <span class="built_in">type</span>)</span><br><span class="line">&#123;</span><br><span class="line">    // memset(sh_buf,0,sizeof(sh_buf));</span><br><span class="line">    //memset(change,0,sizeof(change));</span><br><span class="line">    memcpy(sh_buf,sh,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    int way = (<span class="built_in">type</span> == <span class="string">&#x27;R&#x27;</span> ? row : col);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= way; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(change[i] == 0)</span><br><span class="line">            movesh(<span class="built_in">type</span>,++cnt,i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">&#x27;R&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        row = cnt;</span><br><span class="line">        <span class="keyword">for</span>(int i = row+1; i &lt;= way; i++)</span><br><span class="line">            <span class="keyword">for</span>(int j = 1; j &lt;= col; j++)</span><br><span class="line">                sh[i][j] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        col = cnt;</span><br><span class="line">        <span class="keyword">for</span>(int i = 1; i &lt;= row; i++)</span><br><span class="line">            <span class="keyword">for</span>(int j = col+1; j &lt;= way; j++)</span><br><span class="line">                sh[i][j] = 0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void printsheet()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt;= row+2; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 0; j &lt;= col+2; j++)</span><br><span class="line">            cout &lt;&lt; <span class="string">sh[i][j] &lt;&lt;&quot; &quot;;</span></span><br><span class="line"><span class="string">        cout &lt;&lt; endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">void insert(char type)</span></span><br><span class="line"><span class="string">&#123;</span></span><br><span class="line"><span class="string">    // memset(sh_buf,0,sizeof(sh_buf));</span></span><br><span class="line"><span class="string">    memcpy(sh_buf,sh</span>,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    int way = (<span class="built_in">type</span> == <span class="string">&#x27;R&#x27;</span> ? row : col);</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= way; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(change[i] == 1)</span><br><span class="line">            movesh(<span class="built_in">type</span>,++cnt,0);</span><br><span class="line">        movesh(<span class="built_in">type</span>,++cnt,i);</span><br><span class="line">        //这一步卡住了</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">&#x27;R&#x27;</span>)</span><br><span class="line">        row = cnt;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        col = cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// void reset()</span><br><span class="line">// &#123;</span><br><span class="line">//     memcpy(sh_buf,sh,sizeof(sh));</span><br><span class="line">//     <span class="keyword">for</span>(int i = 1; i &lt;= maxd; i++)</span><br><span class="line">//     &#123;</span><br><span class="line">//         <span class="keyword">for</span>(int j = 1; j &lt;= maxd; j++)</span><br><span class="line">//         &#123;</span><br><span class="line">//             <span class="keyword">if</span>(i &gt; row || j &gt; col)</span><br><span class="line">//                 sh_buf[i][j] = 0;</span><br><span class="line">//         &#125;</span><br><span class="line">//     &#125;</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    // cin &gt;&gt; row &gt;&gt; col;</span><br><span class="line">    // // begr = row, begc = col;</span><br><span class="line">    // init();</span><br><span class="line">    // memset(change,0,sizeof(change));</span><br><span class="line">    // printsheet();</span><br><span class="line">    //</span><br><span class="line">    // string cmd;</span><br><span class="line">    // cin &gt;&gt; cmd;</span><br><span class="line">    //</span><br><span class="line">    // int op_row;</span><br><span class="line">    // cin &gt;&gt; op_row;</span><br><span class="line">    // change[op_row] = 1;</span><br><span class="line">    // del(cmd[1]);</span><br><span class="line">    // // reset();</span><br><span class="line">    // printsheet();</span><br><span class="line">    // memset(change,0,sizeof(change));</span><br><span class="line">    // cmd.clear();</span><br><span class="line">    //</span><br><span class="line">    // cin &gt;&gt; cmd;</span><br><span class="line">    // int op_col;</span><br><span class="line">    // cin &gt;&gt; op_col;</span><br><span class="line">    // change[op_col] = 1;</span><br><span class="line">    // insert(cmd[1]);</span><br><span class="line">    // // reset();</span><br><span class="line">    // printsheet();</span><br><span class="line">    // 操作数必须和原来的值保持一致</span><br><span class="line">    int kase;</span><br><span class="line">    char cmd[10];</span><br><span class="line">    int sit = 0;</span><br><span class="line">    memset(sh,0,sizeof(sh));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">&quot;%d%d%d&quot;</span>,&amp;row,&amp;col,&amp;kase)==3 &amp;&amp; row)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (kase--)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">&quot;%s&quot;</span>,cmd);</span><br><span class="line">            int r1,c1,r2,c2;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;r1,&amp;c1,&amp;r2,&amp;c2);</span><br><span class="line">                swap(sh[r1][c1],sh[r2][c2]);</span><br><span class="line">                // printsheet();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                int oper;</span><br><span class="line">                scanf(<span class="string">&quot;%d&quot;</span>,&amp;oper);</span><br><span class="line">                memset(change,0,sizeof(change));</span><br><span class="line">                //算法处理二：用change[]来标记需要处理的行/列</span><br><span class="line">                //把要操作的数全部选出来</span><br><span class="line">                <span class="keyword">for</span>(int i = 0; i &lt; oper; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    //memset(change,0,sizeof(change));</span><br><span class="line">                    int cur;</span><br><span class="line">                    // int r1,c1,r2,c2;</span><br><span class="line">                    scanf(<span class="string">&quot;%d&quot;</span>,&amp;cur);</span><br><span class="line">                    change[cur] = 1;</span><br><span class="line">                &#125;</span><br><span class="line">                //将change标记预先选出来</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    //change[cur] = 1;</span><br><span class="line">                    del(cmd[1]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    //change[cur] = 1;</span><br><span class="line">                    insert(cmd[1]);</span><br><span class="line">                &#125;</span><br><span class="line">                // printsheet();</span><br><span class="line">                // printsheet();</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       memset(ans,0,sizeof(ans));</span><br><span class="line">       //这是一个好习惯！</span><br><span class="line">       //所有全局变量在赋值之前需要初始化</span><br><span class="line">       <span class="keyword">for</span>(int i = 0; i &lt;= row; i++)</span><br><span class="line">       &#123;</span><br><span class="line">          <span class="keyword">for</span>(int j = 0; j &lt;= col; j++)</span><br><span class="line">          &#123;</span><br><span class="line">              ans[sh[i][j]/BIG][sh[i][j]%BIG] = i*BIG+j;</span><br><span class="line">              //算法处理三：ans相当于一个<span class="built_in">hash</span> map</span><br><span class="line">              //将原来的坐标ans[sh[r]/BIG][sh[c]%BIG] --&gt; newr*BIG+newc</span><br><span class="line">              //这样最后查询(qr,qc),直接用ans[qr][qc]就可以了</span><br><span class="line">              //ans[qr][qc]/BIG   ---    ans[qr][qc]%BIG就是最后的结论</span><br><span class="line">          &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span>(sit &gt; 0)</span><br><span class="line">          <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">       <span class="built_in">printf</span>(<span class="string">&quot;Spreadsheet #%d\n&quot;</span>,++sit);</span><br><span class="line"></span><br><span class="line">       int query;</span><br><span class="line">       int rq,cq;</span><br><span class="line">       scanf(<span class="string">&quot;%d&quot;</span>,&amp;query);</span><br><span class="line">       <span class="keyword">while</span>(query--)</span><br><span class="line">       &#123;</span><br><span class="line">            <span class="keyword">if</span>(scanf(<span class="string">&quot;%d%d&quot;</span>,&amp;rq,&amp;cq) == 2 &amp;&amp; rq)</span><br><span class="line">            &#123;</span><br><span class="line">              <span class="built_in">printf</span>(<span class="string">&quot;Cell data in (%d,%d) &quot;</span>,rq,cq);</span><br><span class="line">              int data = ans[rq][cq];</span><br><span class="line">              <span class="keyword">if</span>(data == 0)</span><br><span class="line">                  <span class="built_in">printf</span>(<span class="string">&quot;GONE\n&quot;</span>);</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                  <span class="built_in">printf</span>(<span class="string">&quot;moved to (%d,%d)\n&quot;</span>,data/BIG,data%BIG);</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用结构体简化">使用结构体简化</h3><p><img src="sheet-tracking2.jpg" alt="sheet-tracking2"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxd 10000</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">struct Command</span><br><span class="line">&#123;</span><br><span class="line">    char c[5];</span><br><span class="line">    int r1, c1, r2, c2;</span><br><span class="line">    int op_n, change[20];</span><br><span class="line">&#125; cmd[maxd];</span><br><span class="line"></span><br><span class="line">int row, col, cn;</span><br><span class="line">int oldr, oldc;</span><br><span class="line">int rq,cq;</span><br><span class="line"></span><br><span class="line">// int flag = 1;</span><br><span class="line"></span><br><span class="line">bool operation(int* rq, int* cq)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; cn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(cmd[i].r1 == *rq &amp;&amp; cmd[i].c1 == *cq)</span><br><span class="line">            &#123;</span><br><span class="line">                *rq = cmd[i].r2;</span><br><span class="line">                *cq = cmd[i].c2;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cmd[i].r2 == *rq &amp;&amp; cmd[i].c2 == *cq)</span><br><span class="line">            &#123;</span><br><span class="line">                *rq = cmd[i].r1;</span><br><span class="line">                *cq = cmd[i].c1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //other Command</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            int dr = 0, dc = 0;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">&#x27;I&#x27;</span>)</span><br><span class="line">            //INSERT</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;R&#x27;</span> &amp;&amp; cmd[i].change[j] &lt;= *rq)</span><br><span class="line">                        //cmd[i].change[j] --&gt; row insert</span><br><span class="line">                        dr++;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;C&#x27;</span> &amp;&amp; cmd[i].change[j] &lt;= *cq)</span><br><span class="line">                        //col insert;</span><br><span class="line">                        dc++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[i].c[0] == <span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">            //delete</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;R&#x27;</span> &amp;&amp; cmd[i].change[j] == *rq)</span><br><span class="line">                        <span class="built_in">return</span> 0;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;C&#x27;</span> &amp;&amp; cmd[i].change[j] == *cq)</span><br><span class="line">                        <span class="built_in">return</span> 0;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;R&#x27;</span> &amp;&amp; cmd[i].change[j] &lt; *rq)</span><br><span class="line">                        dr--;</span><br><span class="line">                    <span class="keyword">if</span>(cmd[i].c[1] == <span class="string">&#x27;C&#x27;</span> &amp;&amp; cmd[i].change[j] &lt; *cq)</span><br><span class="line">                        dc--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            *rq += dr;</span><br><span class="line">            *cq += dc;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    // int row,col,cn;</span><br><span class="line">    // int rq, cq;</span><br><span class="line">    int kase = 0;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">&quot;%d%d%d&quot;</span>,&amp;row,&amp;col,&amp;cn) == 3 &amp;&amp; row)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = 0; i &lt; cn; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">&quot;%s&quot;</span>,cmd[i].c);</span><br><span class="line">            // cout &lt;&lt; <span class="string">cmd[i].c[0] &lt;&lt; endl;</span></span><br><span class="line"><span class="string">            if(cmd</span>[i].c[0] == <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">&quot;%d%d%d%d&quot;</span>,&amp;cmd[i].r1,&amp;cmd[i].c1,&amp;cmd[i].r2,&amp;cmd[i].c2);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                scanf(<span class="string">&quot;%d&quot;</span>,&amp;cmd[i].op_n);</span><br><span class="line">                <span class="keyword">for</span>(int j = 0; j &lt; cmd[i].op_n; j++)</span><br><span class="line">                    scanf(<span class="string">&quot;%d&quot;</span>,&amp;cmd[i].change[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //QUERY:</span><br><span class="line">        <span class="keyword">if</span>(kase &gt; 0)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Spreadsheet #%d\n&quot;</span>,++kase);</span><br><span class="line"></span><br><span class="line">        int query;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;query);</span><br><span class="line">        <span class="keyword">while</span>(query--)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf(<span class="string">&quot;%d%d&quot;</span>,&amp;rq,&amp;cq);</span><br><span class="line"></span><br><span class="line">            oldr = rq; oldc = cq;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Cell data in (%d,%d) &quot;</span>,oldr,oldc);</span><br><span class="line">            int flag = operation(&amp;rq,&amp;cq);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flag == 0)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;GONE\n&quot;</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;moved to (%d,%d)\n&quot;</span>,rq,cq);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="A-Typical-Homework"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-12412">A Typical Homework</a></h2><p>这题目我AC了整整十几次！</p><p>记录一下自己弄错的地方</p><p><img src="typical-homework1.png" alt="typical-homework1"></p><p><img src="typical-homework2.png" alt="typical-homework2"></p><p><img src="typical-homework3.png" alt="typical-homework3"></p><p><img src="typical-homework4.png" alt="typical-homework4"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#define EPS 1e-5</span></span><br><span class="line"><span class="comment">#define maxs 105</span></span><br><span class="line">//105 students</span><br><span class="line"></span><br><span class="line"><span class="comment">#define maxid 105</span></span><br><span class="line">//15 digits</span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//int n;</span><br><span class="line">//int removed[maxs] = &#123;0&#125;;</span><br><span class="line"></span><br><span class="line">int subject[6];</span><br><span class="line">//subject[1] pass subject 1 --&gt; subject[2] pass subject 2</span><br><span class="line">int lastid = 0;</span><br><span class="line"></span><br><span class="line">typedef struct Students</span><br><span class="line">&#123;</span><br><span class="line">    bool removed;</span><br><span class="line">    char sid[maxid];</span><br><span class="line">    int cid;</span><br><span class="line">    char name[maxid];</span><br><span class="line"></span><br><span class="line">    int chinese;</span><br><span class="line">    int math;</span><br><span class="line">    int english;</span><br><span class="line">    int coding;</span><br><span class="line"></span><br><span class="line">//    int rank;</span><br><span class="line">    int totscore;</span><br><span class="line"></span><br><span class="line">    bool operator &lt; (const Students&amp; s) const&#123;</span><br><span class="line">        <span class="built_in">return</span> totscore &gt; s.totscore;</span><br><span class="line">    &#125;</span><br><span class="line">    Students()</span><br><span class="line">    &#123;</span><br><span class="line">        memset(this,0,sizeof(Students));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;students;</span><br><span class="line"></span><br><span class="line">typedef struct Klass</span><br><span class="line">&#123;</span><br><span class="line">    int totstu;</span><br><span class="line"></span><br><span class="line">    int score[4];</span><br><span class="line">    int pass[4];</span><br><span class="line"></span><br><span class="line">    Klass()</span><br><span class="line">    &#123;</span><br><span class="line">        memset(this,0,sizeof(Klass));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;klass;</span><br><span class="line"></span><br><span class="line">//vector&lt;klass&gt; kl(maxs);</span><br><span class="line"></span><br><span class="line">klass kl[maxs + 5];</span><br><span class="line">vector&lt;students&gt; stu;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bool valid(students fresh)</span><br><span class="line">&#123;</span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(! (*it).removed )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(strcmp((*it).sid, fresh.sid) == 0)</span><br><span class="line">                <span class="built_in">return</span> 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> 1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void add()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        students fresh;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Please enter the SID, CID, name and four scores. Enter 0 to finish.\n&quot;</span>);</span><br><span class="line">        scanf(<span class="string">&quot;%s&quot;</span>,fresh.sid);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(strcmp(fresh.sid, <span class="string">&quot;0&quot;</span>) == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">        scanf(<span class="string">&quot;%d%s%d%d%d%d&quot;</span>,&amp;fresh.cid,fresh.name,&amp;fresh.chinese,&amp;fresh.math,&amp;fresh.english,&amp;fresh.coding);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(valid(fresh))</span><br><span class="line">        &#123;</span><br><span class="line">            fresh.totscore = fresh.chinese + fresh.math + fresh.english + fresh.coding;</span><br><span class="line">            fresh.removed = 0;</span><br><span class="line"></span><br><span class="line">            int k = fresh.cid;</span><br><span class="line">            kl[k].score[0] += fresh.chinese;</span><br><span class="line">            kl[k].score[1] += fresh.math;</span><br><span class="line">            kl[k].score[2] += fresh.english;</span><br><span class="line">            kl[k].score[3] += fresh.coding;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(fresh.chinese &gt;= 60)   kl[k].pass[0]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.math &gt;= 60)  kl[k].pass[1]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.english &gt;= 60)   kl[k].pass[2]++;</span><br><span class="line">            <span class="keyword">if</span>(fresh.coding &gt;= 60)    kl[k].pass[3]++;</span><br><span class="line"></span><br><span class="line">            kl[k].totstu++;</span><br><span class="line">            stu.push_back(fresh);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;Duplicated SID.\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//add() finished!</span><br><span class="line"></span><br><span class="line">int getrank(students cur)</span><br><span class="line">&#123;</span><br><span class="line">    int r = 0;</span><br><span class="line"></span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); ((*it).sid != cur.sid) &amp;&amp; it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!((*it).removed) &amp;&amp; (*it).totscore &gt; cur.totscore)</span><br><span class="line">            r++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> r+1;</span><br><span class="line">&#125;</span><br><span class="line">//rank() finished</span><br><span class="line"></span><br><span class="line">void DQ(int isq)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(;;)</span><br><span class="line">    &#123;</span><br><span class="line">        char choose[maxs];</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Please enter SID or name. Enter 0 to finish.\n&quot;</span>);</span><br><span class="line">        scanf(<span class="string">&quot;%s&quot;</span>,choose);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(strcmp(choose,<span class="string">&quot;0&quot;</span>) == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line"></span><br><span class="line">        int cal = 0;</span><br><span class="line">        vector&lt;students&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(*it).removed)</span><br><span class="line">            &#123;</span><br><span class="line">//                cout &lt;&lt; <span class="string">stu[i].sid &lt;&lt; &quot;--&gt;&quot; &lt;&lt; choose &lt;&lt; endl;</span></span><br><span class="line"><span class="string">//                cout &lt;&lt; stu</span>[i].name &lt;&lt; <span class="string">&quot;--&gt;&quot;</span> &lt;&lt; <span class="string">choose &lt;&lt; endl;</span></span><br><span class="line"><span class="string">                if(strcmp((*it).sid,choose</span>) == 0 || strcmp((*it).name,choose) == 0 )</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(isq)</span><br><span class="line">                        //<span class="built_in">printf</span>(<span class="string">&quot;%d %s %d %s %d %d %d %d %d %.2f\n&quot;</span>, stu[i].rank, stu[i].sid, stu[i].cid, stu[i].name,stu[i].chinese,stu[i].math,stu[i].english,stu[i].coding,stu[i].totscore,stu[i].totscore/4.0+EPS);</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">&quot;%d %s %d %s %d %d %d %d %d %.2f\n&quot;</span>,getrank(*it),(*it).sid, (*it).cid, (*it).name,(*it).chinese,(*it).math,(*it).english,(*it).coding,(*it).totscore,(*it).totscore/4.0+EPS);</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        (*it).removed = 1;</span><br><span class="line"></span><br><span class="line">                        //removed students also infect klass</span><br><span class="line">                        int rid = (*it).cid;</span><br><span class="line"></span><br><span class="line">                        kl[rid].totstu--;</span><br><span class="line">                        kl[rid].score[0] -= (*it).chinese;</span><br><span class="line">                        kl[rid].score[1] -= (*it).math;</span><br><span class="line">                        kl[rid].score[2] -= (*it).english;</span><br><span class="line">                        kl[rid].score[3] -= (*it).coding;</span><br><span class="line"></span><br><span class="line">                        <span class="keyword">if</span>((*it).chinese &gt;= 60) kl[rid].pass[0]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).math &gt;= 60) kl[rid].pass[1]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).english &gt;= 60) kl[rid].pass[2]--;</span><br><span class="line">                        <span class="keyword">if</span>((*it).coding &gt;= 60) kl[rid].pass[3]--;</span><br><span class="line"></span><br><span class="line">                        cal++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">//                <span class="keyword">if</span>(!isq)</span><br><span class="line">//                    <span class="built_in">printf</span>(<span class="string">&quot;%d student(s) removed.\n&quot;</span>,cal);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!isq)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d student(s) removed.\n&quot;</span>,cal);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//DQ <span class="built_in">test</span> finished!</span><br><span class="line"></span><br><span class="line">void overall_stat(int check)</span><br><span class="line">&#123;</span><br><span class="line">    memset(subject, 0, sizeof(subject));</span><br><span class="line">    vector&lt;students&gt;::iterator it;</span><br><span class="line">    <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(*it).removed &amp;&amp; (check == 0 || (*it).cid == check))</span><br><span class="line">        &#123;</span><br><span class="line">            int k = 0;</span><br><span class="line">            <span class="keyword">if</span>((*it).chinese &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).math &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).english &gt;= 60) k++;</span><br><span class="line">            <span class="keyword">if</span>((*it).coding &gt;= 60) k++;</span><br><span class="line"></span><br><span class="line">            subject[k]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">//    <span class="keyword">for</span>(int i = 0; i &lt; 6; i++)</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">&quot;pass %d : %d &quot;</span>, i , subject[i]);</span><br><span class="line">&#125;</span><br><span class="line">//<span class="built_in">test</span> finished</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void <span class="built_in">stat</span>()</span><br><span class="line">&#123;</span><br><span class="line">    int check;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Please enter class ID, 0 for the whole statistics.\n&quot;</span>);</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;check);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(check != 0)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Chinese\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)kl[check].score[0]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,kl[check].pass[0]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,kl[check].totstu-kl[check].pass[0]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Mathematics\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)kl[check].score[1]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,kl[check].pass[1]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,kl[check].totstu-kl[check].pass[1]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;English\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)kl[check].score[2]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,kl[check].pass[2]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,kl[check].totstu-kl[check].pass[2]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Programming\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)kl[check].score[3]/(double)kl[check].totstu+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,kl[check].pass[3]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,kl[check].totstu-kl[check].pass[3]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        int s1=0, s2=0, s3=0, s4=0;</span><br><span class="line">        int p1=0, p2=0, p3=0, p4=0;</span><br><span class="line"></span><br><span class="line">        int m = 0;</span><br><span class="line">        vector&lt;students&gt;::iterator it;</span><br><span class="line">        <span class="keyword">for</span>(it = stu.begin(); it != stu.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!(*it).removed )</span><br><span class="line">            &#123;</span><br><span class="line">                m++;</span><br><span class="line">                s1 += (*it).chinese;</span><br><span class="line">                s2 += (*it).math;</span><br><span class="line">                s3 += (*it).english;</span><br><span class="line">                s4 += (*it).coding;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>((*it).chinese &gt;= 60)    p1++;</span><br><span class="line">                <span class="keyword">if</span>((*it).math &gt;= 60)   p2++;</span><br><span class="line">                <span class="keyword">if</span>((*it).english &gt;= 60)    p3++;</span><br><span class="line">                <span class="keyword">if</span>((*it).coding &gt;= 60)     p4++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Chinese\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)s1/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,p1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,m-p1);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Mathematics\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)s2/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,p2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,m-p2);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;English\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)s3/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,p3);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,m-p3);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Programming\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Average Score: %.2f\n&quot;</span>,(double)s4/(double)m+EPS);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of passed students: %d\n&quot;</span>,p4);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Number of failed students: %d\n&quot;</span>,m-p4);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    overall_stat(check);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Overall:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Number of students who passed all subjects: %d\n&quot;</span>,subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Number of students who passed 3 or more subjects: %d\n&quot;</span>,subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Number of students who passed 2 or more subjects: %d\n&quot;</span>,subject[2]+subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Number of students who passed 1 or more subjects: %d\n&quot;</span>,subject[1]+subject[2]+subject[3]+subject[4]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Number of students who failed all subjects: %d\n&quot;</span>,subject[0]);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void print_menu()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Welcome to Student Performance Management System (SPMS).\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1 - Add\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;2 - Remove\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;3 - Query\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;4 - Show ranking\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;5 - Show Statistics\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0 - Exit\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//void printdata(int n)</span><br><span class="line">//&#123;</span><br><span class="line">//    <span class="keyword">for</span>(int i = 0; i &lt; n; i++)</span><br><span class="line">//    &#123;</span><br><span class="line">//        <span class="built_in">printf</span>(<span class="string">&quot;%s %d %s %d %d %d %d %d rank: %d\n&quot;</span>,stu[i].sid,stu[i].cid,stu[i].name,stu[i].chinese,stu[i].math,stu[i].english,stu[i].coding,stu[i].totscore,stu[i].rank);</span><br><span class="line">//    &#125;</span><br><span class="line">//&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>( ; ; )</span><br><span class="line">    &#123;</span><br><span class="line">        int choice;</span><br><span class="line">        print_menu();</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;choice);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(choice == 0)</span><br><span class="line">            <span class="built_in">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(choice == 1)</span><br><span class="line">        &#123;</span><br><span class="line">            add();</span><br><span class="line">//        cout &lt;&lt; <span class="string">stucnt;</span></span><br><span class="line"><span class="string">//            getrank(cnt);</span></span><br><span class="line"><span class="string">//            getklass(cnt);</span></span><br><span class="line"><span class="string">//            cout &lt;&lt; cnt &lt;&lt; &quot; students &quot;&lt;&lt; endl;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//        for(int i = 0; i &lt; cnt; i++)</span></span><br><span class="line"><span class="string">//            printf(&quot;students %s &quot;,stu[i].name);</span></span><br><span class="line"><span class="string">//        printf(&quot;\n removed: &quot;);</span></span><br><span class="line"><span class="string">//        for(int i = 0; i &lt; cnt; i++)</span></span><br><span class="line"><span class="string">//            printf(&quot;%d &quot;,removed[i]);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//        sort(stu,stu+cnt);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//        printdata(cnt);</span></span><br><span class="line"><span class="string">//        printf(&quot;\n&quot;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//        printf(&quot;enter check : &quot;);</span></span><br><span class="line"><span class="string">//        int check;</span></span><br><span class="line"><span class="string">//        scanf(&quot;%d&quot;,&amp;check);</span></span><br><span class="line"><span class="string">//        overall_stat(cnt,check,subject);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        if(choice == 2)</span></span><br><span class="line"><span class="string">            DQ(0);</span></span><br><span class="line"><span class="string">        if(choice == 3)</span></span><br><span class="line"><span class="string">            DQ(1);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        if(choice == 4)</span></span><br><span class="line"><span class="string">            printf(&quot;Showing the ranklist hurts students&#x27; self-esteem. Don&#x27;t do that.\n&quot;);</span></span><br><span class="line"><span class="string">        if(choice == 5)</span></span><br><span class="line"><span class="string">            stat();</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="Xiangqi"><a target="_blank" rel="noopener external nofollow noreferrer" href="http://acm.hdu.edu.cn/showproblem.php?pid=4121">Xiangqi</a></h2><p>这个题我也纠结了好久，就是判断是否将军，这很关键</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;stdlib.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef struct Points</span><br><span class="line">&#123;</span><br><span class="line">    int x;</span><br><span class="line">    int y;</span><br><span class="line">    Points(int x = 0, int y = 0): x(x), y(y) &#123;&#125;</span><br><span class="line">&#125;points;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">points operator+ (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> points(A.x+B.x,A.y+B.y); &#125;</span><br><span class="line">points operator- (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> points(A.x+B.x,A.y+B.y); &#125;</span><br><span class="line">points operator* (const points&amp; A, int m) &#123; <span class="built_in">return</span> points(A.x*m,A.y*m); &#125;</span><br><span class="line">points operator/ (const points&amp; A, int m) &#123; <span class="built_in">return</span> points(A.x/m,A.y/m); &#125;</span><br><span class="line">//运算符重载，判断马腿，容易写错</span><br><span class="line">bool operator== (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> (A.x == B.x &amp;&amp; A.y == B.y); &#125;</span><br><span class="line">bool operator&lt; (const points&amp; A, const points&amp; B) &#123; <span class="built_in">return</span> (A.x &lt; B.x) || (A.x == B.x &amp;&amp; A.y &lt; B.y) ; &#125;</span><br><span class="line"></span><br><span class="line">char grid[16][16] = &#123;0&#125;;</span><br><span class="line">points <span class="built_in">dirs</span>[4] = &#123;points(-1,0),points(0,1),points(1,0),points(0,-1)&#125;;</span><br><span class="line">points hdirs[8] = &#123;points(2,1),points(1,2),points(-1,2),points(-2,1),points(2,-1),points(1,-2),points(-1,-2),points(-2,-1)&#125;;</span><br><span class="line"></span><br><span class="line">//红子吃掉黑子的情况要单独判断</span><br><span class="line">//要把原来的那个位置放置什么类型的棋子给放到buffer中</span><br><span class="line">//每判断一种情况后进行复原，再进行新一轮棋子的判断</span><br><span class="line"></span><br><span class="line">points blackG, redG;</span><br><span class="line">vector &lt;points&gt; redcheck;</span><br><span class="line"></span><br><span class="line">bool valid(const points&amp; p)</span><br><span class="line">&#123;</span><br><span class="line">    bool flagx = (p.x&gt;=1 &amp;&amp; p.x&lt;=3);</span><br><span class="line">    bool flagy = (p.y&gt;=4 &amp;&amp; p.y&lt;=6);</span><br><span class="line">    <span class="built_in">return</span> (flagx &amp;&amp; flagy);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool straight(const points&amp; p1,const points&amp; p2, int between)</span><br><span class="line">// chariot and cannon</span><br><span class="line">&#123;</span><br><span class="line">    int lx = min(p1.x,p2.x);</span><br><span class="line">    int hx = max(p1.x,p2.x);</span><br><span class="line">    int ly = min(p1.y,p2.y);</span><br><span class="line">    int hy = max(p1.y,p2.y);</span><br><span class="line"></span><br><span class="line">    int cnt = 0;</span><br><span class="line">    <span class="keyword">if</span>(p1.x == p2.x)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int y = ly+1; y &lt; hy; y++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[p1.x][y])</span><br><span class="line">                cnt++;</span><br><span class="line">            <span class="keyword">if</span>(cnt &gt; between)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> cnt == between;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(p1.y == p2.y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int x = lx+1; x &lt; hx; x++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[x][p1.y])</span><br><span class="line">                cnt++;</span><br><span class="line">            <span class="keyword">if</span>(cnt &gt; between)</span><br><span class="line">                <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">return</span> cnt == between;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool checkmate(const points&amp; r, const points&amp; b)</span><br><span class="line">&#123;</span><br><span class="line">    switch(grid[r.x][r.y])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;G&#x27;</span>:</span><br><span class="line">            <span class="built_in">return</span> r.y == b.y &amp;&amp; straight(r,b,0);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;R&#x27;</span>:</span><br><span class="line">            <span class="built_in">return</span> (r.y == b.y || r.x == b.x) &amp;&amp; straight(r,b,0);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">            <span class="built_in">return</span> (r.x == b.x || r.y == b.y) &amp;&amp; straight(r,b,1);</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&#x27;H&#x27;</span>:</span><br><span class="line">            <span class="keyword">for</span>(int i = 0; i &lt; 8; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                points hnext = r + hdirs[i];</span><br><span class="line">                points leg = r + hdirs[i]/2;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(hnext == b &amp;&amp; grid[leg.x][leg.y] == 0)</span><br><span class="line">                    <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        default:</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//将军的判断，是否完成了一次成功的将军</span><br><span class="line"></span><br><span class="line">bool canwin()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(blackG.y == redG.y &amp;&amp; straight(blackG,redG,0))</span><br><span class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">//    bool live = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; 4; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        points bnext = blackG + <span class="built_in">dirs</span>[i];</span><br><span class="line">        bool live = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!valid(bnext))</span><br><span class="line">            <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">        char buffer = grid[bnext.x][bnext.y];</span><br><span class="line">        grid[bnext.x][bnext.y] = 0;</span><br><span class="line"></span><br><span class="line">        //红子吃掉黑子的情况要单独判断</span><br><span class="line">        //要把原来的那个位置放置什么类型的棋子给放到buffer中</span><br><span class="line">        //每判断一种情况后进行复原，再进行新一轮棋子的判断</span><br><span class="line">        //这里是特别需要注意的</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(vector&lt;points&gt;::iterator it = redcheck.begin(); it != redcheck.end(); it++)</span><br><span class="line">        &#123;</span><br><span class="line">            points rcur = *it;</span><br><span class="line">            <span class="keyword">if</span>(grid[rcur.x][rcur.y] &amp;&amp; checkmate(rcur,bnext))</span><br><span class="line">            &#123;</span><br><span class="line">                live = <span class="literal">false</span>;</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        grid[bnext.x][bnext.y] = buffer;</span><br><span class="line">        <span class="keyword">if</span>(live)</span><br><span class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int kase;</span><br><span class="line">    <span class="keyword">while</span>(scanf(<span class="string">&quot;%d%d%d&quot;</span>,&amp;kase,&amp;(blackG.x),&amp;(blackG.y))==3 &amp;&amp; kase)</span><br><span class="line">    &#123;</span><br><span class="line">        redcheck.clear();</span><br><span class="line">        memset(grid,0,sizeof(grid));</span><br><span class="line"></span><br><span class="line">        char <span class="built_in">type</span>;</span><br><span class="line">        int x,y;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(kase)</span><br><span class="line">        &#123;</span><br><span class="line">//            cout &lt;&lt; <span class="string">&quot;kase: &quot;</span> &lt;&lt; <span class="string">kase &lt;&lt; endl;</span></span><br><span class="line"><span class="string">            cin &gt;&gt; type &gt;&gt; x &gt;&gt; y;</span></span><br><span class="line"><span class="string">            points p(x,y);</span></span><br><span class="line"><span class="string">            redcheck.push_back(p);</span></span><br><span class="line"><span class="string">            grid[p.x][p.y] = type;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            if(type == &#x27;G&#x27;)</span></span><br><span class="line"><span class="string">                redG = p;</span></span><br><span class="line"><span class="string">            kase</span>--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(canwin())</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;YES\n&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!canwin())</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;NO\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="othello"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-220">othello</a></h2><p>这是我当时最快速度ac的题目，纪念一下</p><p>特别注意一下优先队列和一些排序</p><p><img src="othello1.jpg" alt="othello1"><br><img src="othello2.jpg" alt="othello2"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstring&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;set&gt;</span></span><br><span class="line"><span class="comment">#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="comment">#include &lt;vector&gt;</span></span><br><span class="line"><span class="comment">#include &lt;map&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef struct points</span><br><span class="line">&#123;</span><br><span class="line">    int row;</span><br><span class="line">    int col;</span><br><span class="line">    points(int row = 0, int col = 0):row(row),col(col) &#123;&#125;</span><br><span class="line">&#125;pos;</span><br><span class="line"></span><br><span class="line">bool operator&lt; (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row&lt;B.row) || (A.row==B.row &amp;&amp; A.col&lt;B.col);&#125;</span><br><span class="line">bool operator== (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row==B.row) &amp;&amp; (A.col==B.col);&#125;</span><br><span class="line">bool operator!= (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> (A.row!=B.row) || (A.col!=B.col);&#125;</span><br><span class="line">pos operator+ (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> pos(A.row+B.row,A.col+B.col);&#125;</span><br><span class="line">pos operator- (const pos&amp; A,const pos&amp; B) &#123;<span class="built_in">return</span> pos(A.row-B.row,A.col-B.col);&#125;</span><br><span class="line"></span><br><span class="line">char board[16][16];</span><br><span class="line">bool mark[16][16];</span><br><span class="line">char player;</span><br><span class="line"></span><br><span class="line">pos dr1[4] = &#123;pos(-1,0),pos(-1,1),pos(0,1),pos(1,1)&#125;;</span><br><span class="line">pos dr2[4] = &#123;pos(1,0),pos(1,-1),pos(0,-1),pos(-1,-1)&#125;;</span><br><span class="line">pos walk[8] = &#123;pos(-1,0),pos(-1,1),pos(0,1),pos(1,1),pos(1,0),pos(1,-1),pos(0,-1),pos(-1,-1)&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;pos&gt; res;</span><br><span class="line">map&lt;pos,int&gt; dir;</span><br><span class="line">//remember clear()!</span><br><span class="line"></span><br><span class="line">bool valid(const pos&amp; p)</span><br><span class="line">&#123;</span><br><span class="line">    bool flag1 = p.row &gt;= 1 &amp;&amp; p.row &lt;= 8;</span><br><span class="line">    bool flag2 = p.col &gt;= 1 &amp;&amp; p.col &lt;= 8;</span><br><span class="line">    <span class="built_in">return</span> flag1 &amp;&amp; flag2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool empty(const pos&amp; p)&#123;</span><br><span class="line">    <span class="built_in">return</span> board[p.row][p.col] == <span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">char <span class="function"><span class="title">getboard</span></span>()&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            cin &gt;&gt; board[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cin &gt;&gt; player;</span><br><span class="line">    <span class="built_in">return</span> player;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printboard(int kase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="string">board[i][j];</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        cout &lt;&lt; endl;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    if(kase)</span></span><br><span class="line"><span class="string">        cout &lt;&lt; endl;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">void checkdisk(char opp,char curp)&#123;</span></span><br><span class="line"><span class="string">    for(int i = 1; i &lt;= 8; i++)&#123;</span></span><br><span class="line"><span class="string">        for(int j = 1; j &lt;= 8; j++)&#123;</span></span><br><span class="line"><span class="string">            if(board</span>[i][j] == opp)&#123;</span><br><span class="line">                pos cur(i,j);</span><br><span class="line">//                pos up = cur, down = cur;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span>(int k = 0; k &lt; 4; k++)&#123;</span><br><span class="line">                    pos up = cur, down = cur;</span><br><span class="line">                    <span class="keyword">do</span>&#123;</span><br><span class="line">                        up = up + dr1[k];</span><br><span class="line">                        <span class="keyword">if</span>(!valid(up))</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">while</span>(board[up.row][up.col] == opp);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">do</span>&#123;</span><br><span class="line">                        down = down + dr2[k];</span><br><span class="line">                        <span class="keyword">if</span>(!valid(down))</span><br><span class="line">                            <span class="built_in">break</span>;</span><br><span class="line">                    &#125;<span class="keyword">while</span>(board[down.row][down.col] == opp);</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(!valid(up) || !valid(down))</span><br><span class="line">                        <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">                    char flag1 = board[up.row][up.col];</span><br><span class="line">                    char flag2 = board[down.row][down.col];</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span>(flag1 == <span class="string">&#x27;-&#x27;</span> &amp;&amp; flag2 == curp)&#123;</span><br><span class="line">                        res.insert(up);</span><br><span class="line">                        dir[up] = k;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span>(flag1 == curp &amp;&amp; flag2 == <span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">                        res.insert(down);</span><br><span class="line">                        dir[down] = k;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void printpos()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">set</span>&lt;pos&gt;::iterator it;</span><br><span class="line">    int cnt = 0;</span><br><span class="line">    <span class="keyword">if</span>(!res.size())&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;No legal move.&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(it = res.begin(); it != res.end(); it++)&#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;(%d,%d)&quot;</span>,(*it).row,(*it).col);</span><br><span class="line">            <span class="keyword">if</span>(cnt!=res.size())</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void change(const pos&amp; p, char opp, char curp)</span><br><span class="line">&#123;</span><br><span class="line">    pos start = p;</span><br><span class="line">    mark[start.row][start.col] = 1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 0; i &lt; 8; i++)&#123;</span><br><span class="line">        pos next = p + walk[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(empty(next))</span><br><span class="line">            <span class="built_in">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(board[next.row][next.col] == opp)&#123;</span><br><span class="line">            next = next + walk[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(board[next.row][next.col] == curp)&#123;</span><br><span class="line">            <span class="keyword">for</span>(next = next-walk[i]; next!=start; next = next-walk[i])&#123;</span><br><span class="line">                <span class="keyword">if</span>(!mark[next.row][next.col])&#123;</span><br><span class="line">                    mark[next.row][next.col] = 1;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(mark[i][j] == 1)&#123;</span><br><span class="line">                board[i][j] = curp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">pos <span class="function"><span class="title">getmove</span></span>()&#123;</span><br><span class="line">    int row,col;</span><br><span class="line">    cin &gt;&gt; row &gt;&gt; col;</span><br><span class="line">    <span class="built_in">return</span> pos(row,col);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void <span class="function"><span class="title">list</span></span>()&#123;</span><br><span class="line">    int w = 0,b = 0;</span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= 8; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= 8; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;W&#x27;</span>)</span><br><span class="line">                w++;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">                b++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Black - %2d White - %2d\n&quot;</span>,b,w);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    /*char curp = getboard();</span><br><span class="line">    char opp;</span><br><span class="line">    <span class="keyword">if</span>(curp == <span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">        opp = <span class="string">&#x27;W&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(curp == <span class="string">&#x27;W&#x27;</span>)</span><br><span class="line">        opp = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    checkdisk(opp,curp);</span><br><span class="line">//    printdir();</span><br><span class="line">    printpos();</span><br><span class="line"></span><br><span class="line">    pos disk = getmove();</span><br><span class="line">    change(disk,opp,curp);</span><br><span class="line">    printboard();</span><br><span class="line"></span><br><span class="line">//    char cmd;</span><br><span class="line">//    cin &gt;&gt; cmd;</span><br><span class="line">//</span><br><span class="line">//    <span class="keyword">if</span>(cmd == <span class="string">&#x27;L&#x27;</span>)</span><br><span class="line">//        printpos();*/</span><br><span class="line"></span><br><span class="line">    int kase;</span><br><span class="line">    scanf(<span class="string">&quot;%d&quot;</span>,&amp;kase);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(kase--)&#123;</span><br><span class="line">        memset(board,0, sizeof(board));</span><br><span class="line">        memset(mark,0, sizeof(mark));</span><br><span class="line">        res.clear();</span><br><span class="line">        dir.clear();</span><br><span class="line"></span><br><span class="line">        char gamer[2];</span><br><span class="line">        gamer[0] = getboard();//cur</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(gamer[0] == <span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">            gamer[1] = <span class="string">&#x27;W&#x27;</span>; //another</span><br><span class="line">        <span class="keyword">if</span>(gamer[0] == <span class="string">&#x27;W&#x27;</span>)</span><br><span class="line">            gamer[1] = <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        int flag = 0;</span><br><span class="line"></span><br><span class="line">        char cmd[5];</span><br><span class="line">        <span class="keyword">for</span>(;;)&#123;</span><br><span class="line">            scanf(<span class="string">&quot;%s&quot;</span>,cmd);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;Q&#x27;</span>)&#123;</span><br><span class="line">                printboard(kase);</span><br><span class="line">                <span class="built_in">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;L&#x27;</span>)&#123;</span><br><span class="line">                checkdisk(gamer[1-flag],gamer[flag]);</span><br><span class="line">                printpos();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(!res.size())&#123;</span><br><span class="line">//                    memset(mark,0, sizeof(mark));</span><br><span class="line">                    flag = 1-flag;</span><br><span class="line">                    checkdisk(gamer[1-flag],gamer[flag]);</span><br><span class="line">                &#125;</span><br><span class="line">                res.clear();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(cmd[0] == <span class="string">&#x27;M&#x27;</span>)&#123;</span><br><span class="line">                int x = cmd[1]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                int y = cmd[2]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                pos move = pos(x,y);</span><br><span class="line">                memset(mark,0,sizeof(mark));</span><br><span class="line"></span><br><span class="line">                change(move,gamer[1-flag],gamer[flag]);</span><br><span class="line">                list();</span><br><span class="line"></span><br><span class="line">//                printboard();</span><br><span class="line"></span><br><span class="line">                flag = 1-flag;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//            flag = 1-flag;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="squares"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vjudge.net/problem/UVA-201">squares</a></h2><p><img src="squares1.png" alt="squares1"><br><img src="squares2.png" alt="squares2"></p><p>这里重点了解一下方形网格的结构体设计</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;iostream&gt;</span></span><br><span class="line"><span class="comment">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="comment">#include &lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">const int MAXN = 16;</span><br><span class="line"></span><br><span class="line">int vexp[MAXN][MAXN],hexp[MAXN][MAXN];</span><br><span class="line">int hstart[MAXN][MAXN], vstart[MAXN][MAXN];</span><br><span class="line">int square[MAXN];</span><br><span class="line"></span><br><span class="line">int min(int a, int b)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">return</span> a &lt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void getdata(int&amp; kase)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(kase--)</span><br><span class="line">    &#123;</span><br><span class="line">        char <span class="built_in">type</span>;</span><br><span class="line">        int x,y;</span><br><span class="line"></span><br><span class="line">        cin &gt;&gt; <span class="built_in">type</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">&#x27;H&#x27;</span>)</span><br><span class="line">            hstart[x][y] = 1;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">type</span> == <span class="string">&#x27;V&#x27;</span>)</span><br><span class="line">            vstart[y][x] = 1;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void stretch(int n)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(int i = n; i &gt;= 1; i--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = n; j &gt;= 1; j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(hstart[i][j])&#123;</span><br><span class="line">                hexp[i][j] = hexp[i][j+1] + 1;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(vstart[i][j])&#123;</span><br><span class="line">                vexp[i][j] = vexp[i+1][j] + 1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = 1; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(int j = 1; j &lt;= n; j++)&#123;</span><br><span class="line">            int mins = min(hexp[i][j],vexp[i][j]);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(int len = 1; len &lt;= mins; len++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(hexp[i+len][j] &gt;= len &amp;&amp; vexp[i][j+len] &gt;= len)&#123;</span><br><span class="line">                    square[len]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    <span class="keyword">for</span>(int t = 1; scanf(<span class="string">&quot;%d&quot;</span>,&amp;n)==1; t++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(t &gt; 1)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n**********************************\n\n&quot;</span>);</span><br><span class="line">        memset(vexp,0,sizeof(vexp));</span><br><span class="line">        memset(hexp,0,sizeof(hexp));</span><br><span class="line">        memset(hstart,0,sizeof(hstart));</span><br><span class="line">        memset(vstart,0,sizeof(vstart));</span><br><span class="line">        memset(square,0, sizeof(square));</span><br><span class="line"></span><br><span class="line">        int kase;</span><br><span class="line">        scanf(<span class="string">&quot;%d&quot;</span>,&amp;kase);</span><br><span class="line">        getdata(kase);</span><br><span class="line"></span><br><span class="line">        stretch(n);</span><br><span class="line"></span><br><span class="line">//        <span class="keyword">for</span>(int i = 0; i &lt;= n; i++)&#123;</span><br><span class="line">//            <span class="keyword">for</span>(int j = 0; j &lt;= n; j++)</span><br><span class="line">//                cout &lt;&lt; <span class="string">hexp[i][j] &lt;&lt; &quot; &quot;;</span></span><br><span class="line"><span class="string">//            cout &lt;&lt; endl;</span></span><br><span class="line"><span class="string">//        &#125;</span></span><br><span class="line"><span class="string">//        for(int i = 0; i &lt;= n; i++)&#123;</span></span><br><span class="line"><span class="string">//            for(int j = 0; j &lt;= n; j++)</span></span><br><span class="line"><span class="string">//                cout &lt;&lt; vexp[i][j] &lt;&lt; &quot; &quot;;</span></span><br><span class="line"><span class="string">//            cout &lt;&lt; endl;</span></span><br><span class="line"><span class="string">//        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        printf(&quot;Problem #%d\n\n&quot;,t);</span></span><br><span class="line"><span class="string">        bool flag = false;</span></span><br><span class="line"><span class="string">        for(int i = 1; i &lt;= n; i++)&#123;</span></span><br><span class="line"><span class="string">            if(square[i])&#123;</span></span><br><span class="line"><span class="string">                flag = true;</span></span><br><span class="line"><span class="string">                printf(&quot;%d square (s) of size %d\n&quot;,square[i],i);</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        if(!flag)</span></span><br><span class="line"><span class="string">            printf(&quot;No completed squares can be found.\n&quot;);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:fogsail_chen@163.com" rel="external nofollow noreferrer">fogsail</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://www.fogsail.net/2018/08/23/20180823/">https://www.fogsail.net/2018/08/23/20180823/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.fogsail.net" target="_blank">算法小站</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/simulate/">simulate</a></div><div class="post_share"><div class="social-share" data-image="/img/algo-03.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechatpay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechatpay.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2018/08/24/20180824/"><img class="prev-cover" src="/img/algo-03.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">算法竞赛入门：基础算法(二)</div></div></a></div><div class="next-post pull-right"><a href="/2018/03/03/20180303/"><img class="next-cover" src="/img/algo-03.png" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">hexo个人站点收录百度熊掌号</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2018/10/24/20181024/" title="c++ STL一些小技巧(int和string的相互转换)"><img class="cover" src="/img/algo-02.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-10-24</div><div class="title">c++ STL一些小技巧(int和string的相互转换)</div></div></a></div><div><a href="/2019/05/14/20190514/" title="STL和常用的数据结构（二）"><img class="cover" src="/img/algo-01.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-05-14</div><div class="title">STL和常用的数据结构（二）</div></div></a></div><div><a href="/2018/02/04/20180204/" title="模拟算法：数组和字符串"><img class="cover" src="/img/algo-01.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-02-04</div><div class="title">模拟算法：数组和字符串</div></div></a></div><div><a href="/2018/08/24/20180824/" title="算法竞赛入门：基础算法(二)"><img class="cover" src="/img/algo-03.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-08-24</div><div class="title">算法竞赛入门：基础算法(二)</div></div></a></div><div><a href="/2019/05/21/20190521/" title="数据结构优化"><img class="cover" src="/img/algo-01.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-05-21</div><div class="title">数据结构优化</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"><div class="author-info__name">fogsail</div><div class="author-info__description">ICPC等算法竞赛中的算法学习，项目开发中的思考，技术书籍的阅读</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">125</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">78</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/fogsail"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.acwing.com/user/myspace/index/8330/" rel="external nofollow noreferrer" target="_blank" title="Acwing"><i class="fab fa-codepen"></i></a><a class="social-icon" href="https://github.com/fogsail" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:fogsail_chen@163.com" rel="external nofollow noreferrer" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://steamcommunity.com/id/877413712/" rel="external nofollow noreferrer" target="_blank" title="Steam"><i class="fab fa-steam"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Ancient-Cipher"><span class="toc-number">1.</span> <span class="toc-text">Ancient Cipher</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#message-decoding"><span class="toc-number">2.</span> <span class="toc-text">message-decoding</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#spreadsheet-tracking-%E7%94%A82%E7%A7%8D%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%A8flag%E7%AE%80%E5%8C%96%E8%AE%A1%E7%AE%97"><span class="toc-number">3.</span> <span class="toc-text">spreadsheet-tracking 用2种方法，用flag简化计算</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E6%A8%A1%E6%8B%9F"><span class="toc-number">3.1.</span> <span class="toc-text">直接模拟</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E7%AE%80%E5%8C%96"><span class="toc-number">3.2.</span> <span class="toc-text">使用结构体简化</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Typical-Homework"><span class="toc-number">4.</span> <span class="toc-text">A Typical Homework</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Xiangqi"><span class="toc-number">5.</span> <span class="toc-text">Xiangqi</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#othello"><span class="toc-number">6.</span> <span class="toc-text">othello</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#squares"><span class="toc-number">7.</span> <span class="toc-text">squares</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/04/06/20210406/" title="codeforces 2020 比赛补题（一）"><img src="/img/algo-02.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="codeforces 2020 比赛补题（一）"></a><div class="content"><a class="title" href="/2021/04/06/20210406/" title="codeforces 2020 比赛补题（一）">codeforces 2020 比赛补题（一）</a><time datetime="2021-04-06T09:56:26.000Z" title="发表于 2021-04-06 17:56:26">2021-04-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/04/04/20210404/" title="算法竞赛中的数学问题（三）"><img src="/img/algo-01.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="算法竞赛中的数学问题（三）"></a><div class="content"><a class="title" href="/2021/04/04/20210404/" title="算法竞赛中的数学问题（三）">算法竞赛中的数学问题（三）</a><time datetime="2021-04-04T08:50:33.000Z" title="发表于 2021-04-04 16:50:33">2021-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/30/20210330/" title="算法竞赛中的数学问题（二）"><img src="/img/algo-03.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="算法竞赛中的数学问题（二）"></a><div class="content"><a class="title" href="/2021/03/30/20210330/" title="算法竞赛中的数学问题（二）">算法竞赛中的数学问题（二）</a><time datetime="2021-03-30T05:00:07.000Z" title="发表于 2021-03-30 13:00:07">2021-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/29/20210329/" title="近期算法竞赛中的数学问题"><img src="/img/algo-03.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="近期算法竞赛中的数学问题"></a><div class="content"><a class="title" href="/2021/03/29/20210329/" title="近期算法竞赛中的数学问题">近期算法竞赛中的数学问题</a><time datetime="2021-03-29T00:53:10.000Z" title="发表于 2021-03-29 08:53:10">2021-03-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/03/26/20210326/" title="网络流之最大流建模（二）"><img src="/img/algo-02.png" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="网络流之最大流建模（二）"></a><div class="content"><a class="title" href="/2021/03/26/20210326/" title="网络流之最大流建模（二）">网络流之最大流建模（二）</a><time datetime="2021-03-25T16:27:33.000Z" title="发表于 2021-03-26 00:27:33">2021-03-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2021 By fogsail</div><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://beian.miit.gov.cn/"><span>闽ICP备18003953号-1</span></a><br><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.beian.gov.cn/portal/index.do"><img class="icp-icon" src="/img/gongan.png"><span>闽公网安备 35010202000760号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script>document.querySelectorAll("#article-container span.katex-display").forEach(a=>{btf.wrap(a,"div","","katex-wrap")})</script><script>(()=>{const t=document.getElementById("twikoo-count"),o=()=>{let t={el:"#twikoo-wrap",envId:"myblog-8g4lsxpx74affb76",region:""};twikoo.init(t)},e=()=>{twikoo.getCommentsCount({envId:"myblog-8g4lsxpx74affb76",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.innerText=o[0].count})).catch((function(t){console.error(t)}))},n=(n=!1)=>{"object"==typeof twikoo?(o(),n&&t&&setTimeout(e,0)):getScript("https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js").then(()=>{o(),n&&t&&setTimeout(e,0)})};btf.loadComment(document.getElementById("twikoo-wrap"),n)})()</script></div><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>✨ 网站已更新最新版本 👉</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">点击刷新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"已更新最新版本",backgroundColor:t,duration:5e5,pos:e,actionText:"点击刷新",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script defer id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zindex="-1" mobile="false" data-click="false"></script><script>!function(){const t=document.createElement("script"),s=window.location.protocol.split(":")[0];t.src="https"===s?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",t.dataset.pjax="";const e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></div></body></html>